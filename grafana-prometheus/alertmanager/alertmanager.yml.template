global:
  resolve_timeout: 5m
route:
  group_by: ["alertname"]
  group_wait: 10s
  group_interval: 10s
  repeat_interval: 1h
  receiver: "telegram"
receivers:
  - name: "telegram"
    telegram_configs:
      - bot_token: "${TELEGRAM_BOT_TOKEN}"
        api_url: https://api.telegram.org
        chat_id: ${TELEGRAM_CHAT_ID}
        parse_mode: "HTML"
        message: |
          ğŸš¨ AIS System Monitor - <b>Cáº¢NH BÃO</b> ğŸš¨
          <b>TÃªn cáº£nh bÃ¡o:</b> {{ .GroupLabels.alertname }}
          <b>Má»©c Ä‘á»™:</b> {{ .CommonLabels.severity }}
          <b>Tráº¡ng thÃ¡i:</b> {{ if eq .Status "firing" }}ğŸ”¥ FIRING{{ else }}âœ… RESOLVED{{ end }}
          <b>Chi tiáº¿t:</b>
          {{- range .Alerts -}}
          ğŸ“Œ <b>MÃ´ táº£:</b> {{ .Annotations.description }}
          ğŸ• <b>Thá»i gian:</b> {{ (.StartsAt.Add 25200e9).Format "02/01/2006 15:04:05" }}
          {{- if .Annotations.value }}
          ğŸ“Š <b>Thá»i gian cháº¡y:</b> {{ .Annotations.value }}
          {{- end }}
          {{- if .Labels.instance }}
          ğŸ–¥ï¸ <b>MÃ¡y chá»§:</b> {{ .Labels.instance }}
          {{- end }}
          {{- end }}
          <b>HÃ nh Ä‘á»™ng:</b>
          âš ï¸ Vui lÃ²ng kiá»ƒm tra vÃ  xá»­ lÃ½ ngay láº­p tá»©c!
inhibit_rules:
  - source_match:
      severity: "critical"
    target_match:
      severity: "warning"
    equal: ["alertname", "dev", "instance"]
