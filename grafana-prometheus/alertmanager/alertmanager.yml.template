global:
  resolve_timeout: 5m
route:
  group_by: ["alertname"]
  group_wait: 10s
  group_interval: 10s
  repeat_interval: 1h
  receiver: "telegram"
receivers:
  - name: "telegram"
    telegram_configs:
      - bot_token: "${TELEGRAM_BOT_TOKEN}"
        api_url: https://api.telegram.org
        chat_id: ${TELEGRAM_CHAT_ID}
        parse_mode: "HTML"
        message: |
          {{ if eq .Status "firing" }}ğŸ”´ <b>Cáº¢NH BÃO</b>{{ else }}âœ… <b>ÄÃƒ GIáº¢I QUYáº¾T</b>{{ end }}
          
          <b>{{ .GroupLabels.alertname }}</b>
          {{ if .CommonLabels.severity }}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
          ğŸ“Š Má»©c Ä‘á»™: <code>{{ .CommonLabels.severity }}</code>{{ end }}
          {{- range .Alerts }}
          
          {{ .Annotations.description }}
          {{- if .Annotations.summary }}
          ï¿½ {{ .Annotations.summary }}
          {{- end }}
          {{- if .Labels.instance }}
          ğŸ–¥ Server: <code>{{ .Labels.instance }}</code>
          {{- end }}
          {{- if .Annotations.value }}
          ğŸ“ˆ GiÃ¡ trá»‹: <code>{{ .Annotations.value }}</code>
          {{- end }}
          ğŸ• {{ (.StartsAt.Add 25200e9).Format "15:04:05 - 02/01/2006" }}
          {{- end }}
inhibit_rules:
  - source_match:
      severity: "critical"
    target_match:
      severity: "warning"
    equal: ["alertname", "dev", "instance"]
